<!doctype html>
<html>

<head>
    <meta charset="utf-8"> 
    <title>vform example</title>
    <script src="../../vue/vue.js"></script> 
    <link rel="stylesheet" type="text/css" href="../../legoland.css" />
</head>
<style type="text/css">
    .red{
        color:red;
        font-size: 14px;
    }
</style>

<body>
    <div style="border:1px solid lightblue;margin:10px;padding:10px">
        * 默认（除了required验证）实时验证，包括keyup & blur
        <br/>
        * 关闭keyup实时验证: v-form<span class="red">.nk</span>
        <br/>
        * 关闭blur实时验证: v-form<span class="red">.nb</span>
        <br/>
        * 指定字段: v-form<span class="red">:field</span>
    </div>
    <div id="vdom"> 
        <form class="lg-grid-row">
            <div class="lg-grid-12">
                <div class="lg-form-line">
                    <label>最简单的例子：</label>
                    <input type="text" v-form="{required:true}" placeholder="必填"/>
                    <span>-</span>
                    <input type="text" v-form="{required:true,length:'0,3'}" placeholder="必填,长度<=3"/>
                    <span>￥/㎡</span>
                </div>
                <div class="lg-form-line">
                    <label>select：</label>
                    <select v-form="{required:true}">
                        <option value="">请选择</option>
                        <option value="1">option1</option>
                        <option value="2">option2</option>
                        <option value="3">option3</option>
                    </select> 
                </div> 
                <div class="lg-form-line">
                    <label>自定义报错信息：</label>
                    <textarea v-form="{required:[true,'填填填填！'],length:['0,5','长度不能超过5']}" tag="这个字段"></textarea>
                </div>
            </div>
            <div class="lg-grid-6">
                <div class="lg-form-line">
                    <label>blur才验证：</label>
                    <textarea v-form:textarea.nk="{length:['0,5','长度不能超过5']}"></textarea>
                </div>
            </div>
            <div class="lg-grid-6">
                <div class="lg-form-line">
                    <label>checkbox：</label>
                    <span class="lg-checkbox-plain">
                        <input type="checkbox" name="checkgroup-f" id="cg1-f"/><label for="cg1-f">High</label>
                    </span>
                    <span class="lg-checkbox">
                        <input type="checkbox" name="checkgroup-f" id="cg2-f"/><label for="cg2-f">Normal</label>
                    </span>
                    <span class="lg-checkbox">
                        <input type="checkbox" name="checkgroup-f" id="cg3-f"/><label for="cg3-f">Low</label>
                    </span>
                </div>
                <div class="lg-form-line" >
                    <span v-form="{customer:[customer,'自定义验证']}">
                        <label>自定义验证：</label>
                        <span class="lg-radio">
                            <input type="radio" name="radiogroup-g" id="rg2-g" value="1"/><label for="rg2-g">open</label>
                        </span>
                        <span class="lg-radio">
                            <input type="radio" name="radiogroup-g" id="rg3-g" value="2"/><label for="rg3-g">close</label>
                        </span>
                    <span>
                </div>
            </div>
            <div class="lg-grid-12"> 
                <button type="button" class="lg-btn" @click="check()">保存</button>
            </div>
        </form>
    </div>
</body>
<script src="../rule.js"></script> 
<script src="../index.js"></script>
<script type="text/javascript">
new Vue({
    el: '#vdom',
    data: {  
    },
    methods: {
         check:function(){
            var error=this.$vform['default'].checkAll();
            if(error.length){
                alert(error[0].tag+error[0].msg);
            }
            else{
                alert('success');
            }
         },
         customer:function(value){
            if(value==1){
                return false;
            }
            return true;
         }
    },
    mounted: function() {
         
    }
})
</script> 
</html>
